#pragma checksum "/Users/leandrolisa/Projects/082023_PuchetaWEB_test/Gestion.Web/Views/ParteDiario2/ParteDiario.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "518c6a7b657cac84550baebb3536940a25f33bea"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_ParteDiario2_ParteDiario), @"mvc.1.0.view", @"/Views/ParteDiario2/ParteDiario.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 2 "/Users/leandrolisa/Projects/082023_PuchetaWEB_test/Gestion.Web/Views/_ViewImports.cshtml"
using Gestion.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "/Users/leandrolisa/Projects/082023_PuchetaWEB_test/Gestion.Web/Views/_ViewImports.cshtml"
using Gestion.Web.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "/Users/leandrolisa/Projects/082023_PuchetaWEB_test/Gestion.Web/Views/_ViewImports.cshtml"
using Gestion.Web.ViewModels.Input;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"518c6a7b657cac84550baebb3536940a25f33bea", @"/Views/ParteDiario2/ParteDiario.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"3bee31758dd1cbb7e600e265aed2cb74227e9428", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_ParteDiario2_ParteDiario : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 1 "/Users/leandrolisa/Projects/082023_PuchetaWEB_test/Gestion.Web/Views/ParteDiario2/ParteDiario.cshtml"
  
    ViewData["Title"] = "ParteDiario";
    Layout = "~/Views/Shared/_LayoutGestion.cshtml";

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n");
            WriteLiteral(@"<div class=""row"">
    <div class=""col-lg-12"">
        <div class=""card  card-rojo"">
            <div class=""card-header cabecera"">
                <h5 class=""m-0"">Gesti√≥n de Parte Diario</h5>
            </div>
            <div class=""card-body"">
                <div class=""row"">
                    <div class=""col-md-3"">
                        <div class=""form-group"">
                            <label class=""control-label"">Proyectos</label>
                            <input id=""ddlProyectosDisponibles"" />
                        </div>
                    </div>
                    <div class=""col-md-2"">
                        <div class=""form-group"">
                            <label class=""control-label"">Fecha</label>
                            <input type=""date"" id=""dtpFechaPD"" class=""form-control"" />
                        </div>
                    </div>
                    <div style=""margin-top:25px;"" class=""col-md-7"">
                        <div class=""row"">
           ");
            WriteLiteral(@"                 <div class=""col-md-3"">
                                <button type=""button"" class=""btn btn-primary""
                                        style=""margin-left:1em""
                                        onclick=""btnNuevoPD()"">
                                    <i class=""fa fa-plus-circle""></i>
                                    Crear Parte Diario
                                </button>
                            </div>
                            <div class=""col-md-2"">
                                <div class=""btn-volver"" type=""button"" onclick=""Volver()""><i class=""fas fa-arrow-left""></i> Volver</div>
                            </div>
                            <div class=""col-md-7"">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
");
            WriteLiteral(@"<div id=""pnlDetallePD"" class=""row"">
    <div class=""col-lg-12"">
        <div class=""card  card-rojo"">
            <div class=""card-header cabecera"">
                <h5 class=""m-0"" id=""lblTituloPD""></h5>
                <input id=""mIdProyecto"" type=""hidden"" />
            </div>
            <div class=""card-body"">
                    <nav>
                        <div class=""nav nav-tabs"" id=""nav-tabAct"" role=""tablist"">
                            <a class=""nav-item nav-link active"" id=""nav-gri1-tab"" data-toggle=""tab"" href=""#nav-gri1"" role=""tab"" aria-controls=""nav-gri1"" aria-selected=""true"">Asistencia del Personal</a>
                            <a class=""nav-item nav-link "" id=""nav-gri2-tab"" data-toggle=""tab"" href=""#nav-gri2"" role=""tab"" aria-controls=""nav-gri2"" aria-selected=""false"">Actividades</a>
                            <a class=""nav-item nav-link "" id=""nav-gri3-tab"" data-toggle=""tab"" href=""#nav-gri3"" role=""tab"" aria-controls=""nav-gri3"" aria-selected=""false"">Novedades</a>
                 ");
            WriteLiteral(@"           <a class=""nav-item nav-link "" id=""nav-gri4-tab"" data-toggle=""tab"" href=""#nav-gri4"" role=""tab"" aria-controls=""nav-gri4"" aria-selected=""false"">Incidentes</a>
                        </div>
                    </nav>
                    <div class=""tab-content"" id=""nav-tabContent"">
                        <div class=""tab-pane fade  show active"" id=""nav-gri1"">
                            <div class=""row"">
                                <div class=""col-md-12"">
                                    <div id=""Conte_grillaAsitencias""></div>
                                </div>
                            </div>
                        </div>
                        <div class=""tab-pane fade"" id=""nav-gri2"">
                            <div class=""row"">
                                <div class=""col-md-12"">
                                    <div id=""conten_grillaActividades""></div>
                                </div>
                            </div>
                        </div>
  ");
            WriteLiteral(@"                      <div class=""tab-pane fade"" id=""nav-gri3"">
                            <div class=""row"">
                                <div class=""col-md-12"">
                                    <div id=""conten_grillaNovedades""></div>
                                </div>
                            </div>
                        </div>
                        <div class=""tab-pane fade"" id=""nav-gri4"">
                            <div class=""row"">
                                <div class=""col-md-12"">
                                    <div id=""conten_grillaIncidentes""></div>
                                </div>
                            </div>
                        </div>
                    </div>
            </div>
        </div>
    </div>
</div>
");
            DefineSection("scripts", async() => {
                WriteLiteral(@"
    <script>
        if ($('#mIdProyecto').val() > 0) {
            $('#pnlDetallePD').show();
        } else {
            $('#pnlDetallePD').hide();
        }
        cargarFiltrosFechas();
        cargaFiltroProyecto();

        function cargarFiltrosFechas() {
            var FiltroFecha = document.getElementById('dtpFechaPD');
            var fecActual = new Date();
            var mes = fecActual.getMonth()+1;
            var fechaHasta = fecActual.getFullYear() + ""-"" + (mes < 10 ? (""0"" + mes) : mes) + ""-"" + fecActual.getDate();
            FiltroFecha.value = fechaHasta;
        }

        function cargaFiltroProyecto() {
            $.post(""/Proyecto/GetProyectosActivos"")
                .done(function (e) {
                    if (!e.isError) {
                        data2 = e.data;

                        $(""#ddlProyectosDisponibles"").kendoDropDownList({
                            filter: ""startswith"",
                            dataTextField: ""nombre"",
              ");
                WriteLiteral(@"              dataValueField: ""id"",
                            optionLabel: ""Todos los Proyectos"",
                            value: 0,
                            dataSource: data2,
                            height: 400
                        });

                    } else {
                        toastr.error(e.data, { timeOut: 2000 });
                    }
                });
        }

        function btnNuevoPD() {
            /*CREO EL PARTE DIARIO*/
            var model = {
                fechaDesde: $('#dtpFechaPD').val(),
                proyecto: $(""#ddlProyectosDisponibles"").val()
            }

            $.post(""/ParteDiario2/InicializacionPD"", model).done(function (e) {
                if (!e.isError) {
                    /*CARGO LA ASISTENCIA*/
                    $('#pnlDetallePD').show();
                    cargoAsistencia(e.data);
                    cargoActividades(e.data);
                    cargoNovedades(e.data);
                    cargoInciden");
                WriteLiteral(@"tes(e.data);
                }
                else {
                    toastr.error(e.data, { timeOut: 2000 });
                }
            });


        }

        function Volver() {
            window.location.replace(""/ParteDiario2"");
        }
        
        function cargoAsistencia(IdPD) {

            $.get(""");
#nullable restore
#line 172 "/Users/leandrolisa/Projects/082023_PuchetaWEB_test/Gestion.Web/Views/ParteDiario2/ParteDiario.cshtml"
              Write(Url.Action("_ParteDiarioAsistencia","ParteDiario2"));

#line default
#line hidden
#nullable disable
                WriteLiteral("/\" + IdPD,\r\n                    function (data) {\r\n                        $(\'#Conte_grillaAsitencias\').html(data);\r\n                    })\r\n        }\r\n\r\n        function cargoActividades(IdPD) {\r\n        $.get(\"");
#nullable restore
#line 179 "/Users/leandrolisa/Projects/082023_PuchetaWEB_test/Gestion.Web/Views/ParteDiario2/ParteDiario.cshtml"
          Write(Url.Action("_ParteDiarioActividades","ParteDiario2"));

#line default
#line hidden
#nullable disable
                WriteLiteral("/\" + IdPD,\r\n                    function (data) {\r\n                        $(\'#conten_grillaActividades\').html(data);\r\n                    })\r\n        }\r\n \r\n        function cargoNovedades(IdPD) {\r\n\r\n            $.get(\"");
#nullable restore
#line 187 "/Users/leandrolisa/Projects/082023_PuchetaWEB_test/Gestion.Web/Views/ParteDiario2/ParteDiario.cshtml"
              Write(Url.Action("_ParteDiarioNovedades","ParteDiario2"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"?id="" + $('#ddlProyectosDisponibles').val()+""&id2=""+IdPD,
                    function (data) {
                        $('#conten_grillaNovedades').html(data);
                    })
        }


        function cargoIncidentes(IdPD) {

            $.get(""");
#nullable restore
#line 196 "/Users/leandrolisa/Projects/082023_PuchetaWEB_test/Gestion.Web/Views/ParteDiario2/ParteDiario.cshtml"
              Write(Url.Action("_ParteDiarioIncidentes","ParteDiario2"));

#line default
#line hidden
#nullable disable
                WriteLiteral("?id=\" + $(\'#ddlProyectosDisponibles\').val() + \"&id2=\" + IdPD,\r\n                function (data) {\r\n                    $(\'#conten_grillaIncidentes\').html(data);\r\n                })\r\n        }\r\n\r\n       \r\n\r\n    </script>\r\n");
            }
            );
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
