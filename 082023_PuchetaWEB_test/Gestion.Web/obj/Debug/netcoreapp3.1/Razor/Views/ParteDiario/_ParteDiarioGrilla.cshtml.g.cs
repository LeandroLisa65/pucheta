#pragma checksum "/Users/leandrolisa/Projects/082023_PuchetaWEB_test/Gestion.Web/Views/ParteDiario/_ParteDiarioGrilla.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "1345840d808706dcb480d5d18fd88c2da99cd0f0"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_ParteDiario__ParteDiarioGrilla), @"mvc.1.0.view", @"/Views/ParteDiario/_ParteDiarioGrilla.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 2 "/Users/leandrolisa/Projects/082023_PuchetaWEB_test/Gestion.Web/Views/_ViewImports.cshtml"
using Gestion.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "/Users/leandrolisa/Projects/082023_PuchetaWEB_test/Gestion.Web/Views/_ViewImports.cshtml"
using Gestion.Web.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "/Users/leandrolisa/Projects/082023_PuchetaWEB_test/Gestion.Web/Views/_ViewImports.cshtml"
using Gestion.Web.ViewModels.Input;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"1345840d808706dcb480d5d18fd88c2da99cd0f0", @"/Views/ParteDiario/_ParteDiarioGrilla.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"3bee31758dd1cbb7e600e265aed2cb74227e9428", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_ParteDiario__ParteDiarioGrilla : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<IEnumerable<Res_PD>>
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral(@"
<div class=""row"">
    <div class=""col-md-4""> <h6 class=""card-title"">Listado de Parte Diario</h6></div>
    <div class=""col-md-6"">
    </div>
</div>

<br />


<div class=""row"">
    <div class=""col-md-3"">
        <div class=""form-group"">
            <label class=""control-label"">Fecha Desde:</label>
            <input id=""dtpFechaDesde"" type=""date"" class=""form-control"" style=""width: 100%;"" contenteditable=""false"" />
        </div>
    </div>
    <div class=""col-md-3"">
        <div class=""form-group"">
            <label class=""control-label"">Fecha Hasta:</label>
            <input id=""dtpFechahasta"" type=""date"" class=""form-control"" style=""width: 100%;"" contenteditable=""false"" />
        </div>
    </div>
    <div class=""col-md-3"">
        <div class=""form-group"">
            <label class=""control-label"">Proyecto</label>
            <div id=""Conten_proyecto""></div>
        </div>
    </div>
    <div style=""margin-top:25px;"" class=""col-md-3"">
        <div class=""form-group"">
        ");
            WriteLiteral(@"    <div class=""btn-verde"" type=""button"" onclick=""cargaGrilla()""><i class=""fa fa-search""></i> Filtrar</div>
        </div>
    </div>
</div>


<div id=""GrillaKendo""></div>

<div class=""modal fade  bd-example-modal-xl""
     id=""ParteDiarioResumenModal""
     tabindex=""-1""
     role=""dialog""
     aria-labelledby=""myLargeModalLabel""
     aria-hidden=""true""
     data-backdrop=""static"">
    <div class=""modal-dialog modal-xl"" role=""document"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h5 id=""ModalTitulo"" class=""modal-title""></h5>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">&times;</span>
                </button>
            </div>
            <div id=""divMdlBody_ResumenPD"" class=""modal-body"">

            </div>

        </div>
    </div>
</div>



<script>

    //#region INICIALIZACIÃ“N

    var DataGlobal = [];
    //INICIO - ARMADO DE ");
            WriteLiteral(@"FECHA EN LOS TEXT DEL FILTRO
    var d = new Date();
    var d2 = new Date();
    d2.setDate(d2.getDate() - 1);
    //console.log('d2',d2);
    var month = d.getMonth() + 1;
    var day = d.getDate();
    var year = d.getFullYear();
    var dayAyer = d2.getDate();

    if (month < 10)
        month = '0' + month;
    if (day < 10)
        day = '0' + day;
    if (dayAyer < 10)
        dayAyer = '0' + dayAyer;

    var mFechaAyer = year + ""-"" + month + ""-"" + dayAyer;
    var mFechaHoy = year + ""-"" + month + ""-"" + day;
    var dateControl = document.querySelector('input[id=""dtpFechaDesde""]');
    dateControl.value = mFechaAyer;
    var dateControl = document.querySelector('input[id=""dtpFechahasta""]');
    dateControl.value = mFechaHoy;
    cargaProyecto();
    var data = JSON.parse('");
#nullable restore
#line 95 "/Users/leandrolisa/Projects/082023_PuchetaWEB_test/Gestion.Web/Views/ParteDiario/_ParteDiarioGrilla.cshtml"
                      Write(Html.Raw(Json.Serialize(Model)));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"');
    grilla(data);
    //#endregion

    //#region FUNCIONES

    function grilla(datos) {
    $(""#GrillaKendo"").html(""<div id='grillaParteDiario'></div>"");

         var colGrilla = [];
        colGrilla.push({ field: ""id"", title: ""Id"", width: ""90px"", });
        colGrilla.push({ field: ""proyectoNombre"", title: ""Proyecto"", media: ""(min-width: 150px)"" });
        colGrilla.push({ field: ""fecha_Creacion"", title: ""Fecha Parte Diario"", media: ""(min-width: 450px)"" });
        colGrilla.push({ command: { name: ""Ver"", text:""Ver Detalle"", click: VerDetalle }, title: ""Ver Detalle"", width: ""120px"" ,});

    $(""#grillaParteDiario"").kendoGrid({
        filterable: true,
        sortable: true,
        groupable: true,
        reorderable: true,
        columnMenu: true,
        toolbar: [""excel""],
        excel: {
            fileName: ""ParteDiario.xlsx"",

            allPages: true,
            filterable: true
        },
        dataSource: {
            data: datos
        },
       ");
            WriteLiteral(" columns: colGrilla\r\n    });\r\n    }\r\n    function VerDetalle(e) {\r\n        var d = this.dataItem($(e.currentTarget).closest(\"tr\"));\r\n        var id = d.id;\r\n        $(\'#ModalTitulo\').html(\"Resumen Parte Diario\");\r\n        $.get(\"");
#nullable restore
#line 133 "/Users/leandrolisa/Projects/082023_PuchetaWEB_test/Gestion.Web/Views/ParteDiario/_ParteDiarioGrilla.cshtml"
          Write(Url.Action("_ParteDiarioResumen","ParteDiario"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"/"" + id,
            function (data) {
                $('.modal-body').html(data);
                var windowHeight = $(window).height();
                var height = windowHeight / 5 * 4;
                $(""#divMdlBody_ResumenPD"").css({ 'overflow-y': 'scroll', 'height': (height + 'px') });

            })
        $('#ParteDiarioResumenModal').modal('show');
    }
    function cargaGrilla() {

        var model = {
            fechaDesde: $('#dtpFechaDesde').val(),
            fechaHasta: $('#dtpFechahasta').val(),
            proyecto: $('#Proyecto').val()
        }

        $.post(""/ParteDiario/ParteDiarioGrillaFiltro"", model).done(function (e) {

                    if (!e.isError) {

                        grilla(e.data);

                    }
         });

    }
    function cargaProyecto() {

        $.get(""");
#nullable restore
#line 163 "/Users/leandrolisa/Projects/082023_PuchetaWEB_test/Gestion.Web/Views/ParteDiario/_ParteDiarioGrilla.cshtml"
          Write(Url.Action("GetProyecto", "ParteDiario"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
            function (data) {

                if (!data.isError) {
                    var d = '<select id=""Proyecto"" class=""form-control"">';
                    d = d + '<option value=""0"">Seleccione un Proyecto</option>';
                    for (var i = 0; i < data.data.length; i++) {
                        d = d + '<option value=""' + data.data[i].id + '"">' + data.data[i].nombre + '</option>';
                    }
                    d = d + '</select>';

                    $('#Conten_proyecto').html(d);
                }

            }
        );
    }

    //#endregion

</script>

");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<IEnumerable<Res_PD>> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
